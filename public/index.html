<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Recolector</title>
</head>
<body>
  <h1>Recolectando visita...</h1>
  <p id="mensaje">Enviando datos...</p>

  <script>
    const datos = {
      navegador: navigator.userAgent,
      nombre: 'Visitante',
      ubicacion: null
    };

    fetch('/api/registro', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(datos)
    })
    .then(res => res.text())
    .then(msg => {
      document.getElementById('mensaje').textContent = '✅ Datos registrados correctamente.';
      console.log(msg);
    })
    .catch(err => {
      document.getElementById('mensaje').textContent = '❌ Error al registrar datos.';
      console.error('Error:', err);
    });
  </script>
</body>
</html>

